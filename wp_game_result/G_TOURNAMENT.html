<form name="signForm" action="input.php?<?=$basic_get.$add_get?>&type=<?=$type?>&sch_val=<?=$sch_val?>&game_kind=<?=$game_kind?>" method="post">
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
	<td>
		<table width="100%" cellpadding="3" border="0" class="border_gray_d">
		<tr>
			<td width="3%"></td>
			<td width="15%" align="center" bgcolor="#f1f1f1"><b>선수</b></td>
			<td width="3%" align="center" bgcolor="#f1f1f1"><b>승패</b></td>
			<td align="center" bgcolor="#f1f1f1"><b>득점(자신의 득점만 입력)</b></td>
			<td width="1px"></td>
			<td align="center" bgcolor="#f1f1f1"><b>득점(자신의 득점만 입력)</b></td>
			<td width="3%" align="center" bgcolor="#f1f1f1"><b>승패</b></td>
			<td width="15%" align="center" bgcolor="#f1f1f1"><b>선수</b></td>
			<td width="3%"></td>
		</tr>
		<!-- 개인전 선수검색 시작 -->
		<?
			// 토너먼트 클래스 생성 //
			$Tournament = new Tournament;
			if($type == "real")
			{
				$Tournament->getTournaInfo($s_gam_uid, $game_code,$level);
			}
			else if($type == "test")
			{
				$Tournament->getTournaInfoTest($s_gam_uid, $game_code,$level);
			}

			// 토너먼트 표 작성
			if($level == "3") $max_totna = 1;
			else if($level == "1") $max_totna = 1;
			else $max_totna = $level/2;

			$left_num = 1;
			$right_num = (2*$max_totna);

			// 토너먼트 첫경기만 BYE가 존재한다.
			if($level !=  $max_level)
			{
				$glo_bye_num = array();
				//echo "test";
			}


echo $game_code;
			$p_cnt = 0;
			for ( $i=1; $i<= $max_totna; $i++){
				unset($check_01);
				unset($check_02);
				unset($check_03);
				unset($check_04);
				unset($my_rank_tot_l);
				unset($my_rank_tot_r);
				if($p_cnt % 2 == 0) $lbgcolor = "#C0C91D";
				else $lbgcolor = "#F47D1F";
				if($p_cnt % 2 == 0) $rbgcolor = "#F47D1F";
				else $rbgcolor = "#C0C91D";
				echo "<tr bgcolor='#ffffff'>";

				// 번호 //
				echo "<td align='right'><b>$left_num</b></td>";

				/* 2014-09-19 박민철 수정
					소스를 보기 쉽게 구분하였음.
					펜싱하고 탁구를 $spo_code에 추가하여 레이아웃 설정
				*/

				// 왼쪽 선수 데이터 출력 시작 //
				 //print_r($glo_bye_num);
				
	
				if(in_array($left_num, $glo_bye_num))
				{
					
				
					// 선수명 //
					echo "<td align='center' bgcolor='$lbgcolor'><font color='#0000ff'><b>BYE</b></font></td>";
					// 승패 //
					echo "<td></td>";
					// 득점입력 //
					echo "<td></td>";
				}
				else
				{
					
				
					$pla_info = $glo_al_player[$left_num];

			

					//print_r($pla_info);

					$pla_id = $pla_info->id;

					//echo $pla_id;
				

				
					// 선수명 //
					echo "<td align='center' bgcolor='$lbgcolor'><input type='hidden' name='pla_id[]' value='$pla_id'><input type='hidden' name='lane_no[$pla_id]' value='$left_num'>";
					if($pla_info->rank_tot) $my_rank_tot_l = "<font color='#0000ff' size='3'><b>[{$pla_info->rank_tot}위]</b></font><br>";
					if($pla_info->cnt == 1) $font_size = "4";
					else $font_size = "2";
					echo "$my_rank_tot_l<b>".$wp_club_code[$pla_info->clu_code]." <font size='$font_size' color='#cc0000'>".$pla_info->name."</font></b></td>";

					// 승/패 //
					if($pla_info->win == "W") $check_01 = " checked";
					if($pla_info->win == "F") $check_02 = " checked";
					echo "
						<td>
							<div><input type='radio' name='win_{$pla_id}' value='W' $check_01>승 </div>
							<div><input type='radio' name='win_{$pla_id}' value='F' $check_02>패 </div>
						</td>";
					// 득점 입력 필드 - 경기 기록필드 출력
					if($spo_code == "LAWNBOWL" || $spo_code == "GOALBALL" || $spo_code == "BOCCIA" || $spo_code == "GATEBALL"
					 || $spo_code == "BILLIARDS" || $spo_code == "SHUFFLEBOARD" || $spo_code == "CUROLLING" || $spo_code == "TARGET" || $spo_code == "BADUK" || $spo_code == "FENCING")
					{
						echo "<td align='center'><input type='text' name='s_01_{$pla_id}' size='5' maxlength='10' value='$pla_info->record_01'></td>";
					}
					else if($spo_code == "VOLLEYBALL" || $spo_code == "BADMINTON" || $spo_code == "BOCCIA" || $spo_code == "HANDLER" || $spo_code == "DART")
					{
						echo "<td align='center'>
							1Set:<input type='text' name='s_01_{$pla_id}' size='5' maxlength='10' value='$pla_info->record_01'>
							2Set:<input type='text' name='s_02_{$pla_id}' size='5' maxlength='10' value='$pla_info->record_02'>
							3Set:<input type='text' name='s_03_{$pla_id}' size='5' maxlength='10' value='$pla_info->record_03'>
							</td>";
					}
					else if($spo_code == "TENNIS" || $spo_code == "HANDLER" || $spo_code == "TABLETENNIS")
					{
						echo "<td align='center'>
							1S:<input type='text' name='s_01_{$pla_id}' size='2' maxlength='10' value='$pla_info->record_01'>
							2S:<input type='text' name='s_02_{$pla_id}' size='2' maxlength='10' value='$pla_info->record_02'>
							3S:<input type='text' name='s_03_{$pla_id}' size='2' maxlength='10' value='$pla_info->record_03'>
							4S:<input type='text' name='s_04_{$pla_id}' size='2' maxlength='10' value='$pla_info->record_04'>
							5S:<input type='text' name='s_05_{$pla_id}' size='2' maxlength='10' value='$pla_info->record_05'>
							</td>";
					}
					else
					{
						echo "<td align='center'><input type='text' name='s_01_{$pla_id}' size='5' maxlength='10' value='$pla_info->record_01'></td>";
					}

				}
				// 왼쪽 선수 데이터 출력 끝 //

				// 구분선 //
				echo "<td width='1px' height='100%' bgcolor='#cacaca'></td>";

				// 오른쪽 선수 데이터 출력 시작 //
				if(in_array($right_num, $glo_bye_num))
				{
					// 승패 //
					echo "<td></td>";
					// 득점입력 //
					echo "<td></td>";
					// 선수명 //
					echo "<td bgcolor='$rbgcolor' align='center'><font color='#0000ff'><b>BYE</b></font></td>";
				}
				else
				{
					$pla_info = $glo_al_player[$right_num];
					$pla_id = $pla_info->id;

					// 선수명 //
					echo "<td align='center'><input type='hidden' name='pla_id[]' value='$pla_id'><input type='hidden' name='lane_no[$pla_id]' value='$right_num'>";

					// 경기 기록필드 출력
					if($spo_code == "LAWNBOWL" || $spo_code == "GOALBALL" || $spo_code == "BOCCIA" || $spo_code == "GATEBALL"
					 || $spo_code == "BILLIARDS" || $spo_code == "SHUFFLEBOARD" || $spo_code == "CUROLLING" || $spo_code == "TARGET" || $spo_code == "BADUK" || $spo_code == "FENCING")
					{
						echo "<input type='text' name='s_01_{$pla_id}' size='5' maxlength='10' value='$pla_info->record_01'>";
					}
					else if($spo_code == "VOLLEYBALL" || $spo_code == "BADMINTON" || $spo_code == "BOCCIA" || $spo_code == "HANDLER" || $spo_code == "DART")
					{
						echo "
							1Set:<input type='text' name='s_01_{$pla_id}' size='5' maxlength='10' value='$pla_info->record_01'>
							2Set:<input type='text' name='s_02_{$pla_id}' size='5' maxlength='10' value='$pla_info->record_02'>
							3Set:<input type='text' name='s_03_{$pla_id}' size='5' maxlength='10' value='$pla_info->record_03'>
							";
					}
					else if($spo_code == "TENNIS" || $spo_code == "HANDLER" || $spo_code == "TABLETENNIS")
					{
						echo "
							1S:<input type='text' name='s_01_{$pla_id}' size='2' maxlength='10' value='$pla_info->record_01'>
							2S:<input type='text' name='s_02_{$pla_id}' size='2' maxlength='10' value='$pla_info->record_02'>
							3S:<input type='text' name='s_03_{$pla_id}' size='2' maxlength='10' value='$pla_info->record_03'>
							4S:<input type='text' name='s_04_{$pla_id}' size='2' maxlength='10' value='$pla_info->record_04'>
							5S:<input type='text' name='s_05_{$pla_id}' size='2' maxlength='10' value='$pla_info->record_05'>
							";
					}
					else
					{
						echo "<input type='text' name='s_01_{$pla_id}' size='5' maxlength='10' value='$pla_info->record_01'>";
					}
					echo "</td>";

					// 승패 //
					if($pla_info->win == "W") $check_03 = " checked";
					if($pla_info->win == "F") $check_04 = " checked";
					echo "
						<td align='right'>
							<div><input type='radio' name='win_{$pla_id}' value='W' $check_03>승 </div>
							<div><input type='radio' name='win_{$pla_id}' value='F' $check_04>패 </div>
						</td>";
					// 선수명 //
					echo "<td bgcolor='$rbgcolor' align='center'>";
					if($pla_info->rank_tot) $my_rank_tot_r = "<font color='#0000ff' size='3'><b>[{$pla_info->rank_tot}위]</b></font><br>";
					if($pla_info->cnt == 1) $font_size = "4";
					else $font_size = "2";
					echo "$my_rank_tot_r<b>".$wp_club_code[$pla_info->clu_code]." <font size='$font_size' color='#cc0000'>".$pla_info->name."</font></b></td>";
				}

				echo "
					<td align='left'><b>$right_num</b> </td>
				</tr>
				";
				if($left_num % 2 ==0)
				{
					echo "<tr><td colspan='10'>&nbsp;</td></tr>";
					echo "<tr><td colspan='10' height='1px' bgcolor='#cacaca'></td></tr>";
					echo "<tr><td colspan='10'>&nbsp;</td></tr>";
				}
				if($left_num % 2 == 0) $p_cnt ++;
				$left_num++;
				$right_num--;
			}
		?>
		</table>
	</td>
</tr>
<tr>
	<td align="center" style="padding-top:10px">
		<input type="submit" name="input" value="경기기록등록(저장)" class="btnBox3" style="height:35px">
		&nbsp;&nbsp;&nbsp;
		<?
			if($level == "64"){ $n_level = "32";$n_level_t = $wp_game_level["32"];}
			if($level == "32") {$n_level = "16";$n_level_t = $wp_game_level["16"];}
			if($level == "16"){ $n_level = "8";$n_level_t = $wp_game_level["8"];}
			if($level == "8"){ $n_level = "4";$n_level_t = $wp_game_level["4"];}
			if($level == "4"){ $n_level = "1";$n_level_t = $wp_game_level["1"];}
		if($level >= "4")
		{
			echo "<input type='button' name='make_game' value='다음경기({$n_level_t}전생성)' class='btnBox' style='height:35px' onclick=\"location.href='next_match.php?$basic_get$add_get&mode=input&game_code=$game_code&level=$level&n_level=$n_level&sch_val=$sch_val&game_kind=$game_kind' \">";
		}

		if($level == "1")
		{
			echo "<input type='button' name='make_game' value='경기종료확인' class='btnBox' style='height:35px' onclick=\"location.href='input.php?$basic_get$add_get&mode=input&game_code=$game_code&level=$level&game_kind=$game_kind&done=done' \">";
		}
		?>

	</td>
</tr>
</table>
</form>
