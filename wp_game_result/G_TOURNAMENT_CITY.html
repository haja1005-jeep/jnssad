<form name="signForm" action="input.php?<?=$basic_get.$add_get?>&type=<?=$type?>&sch_val=<?=$sch_val?>&game_kind=<?=$game_kind?>" method="post">
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
	<td>
		<table width="100%" cellpadding="3" border="0" class="border_gray_d">
		<tr>
			<td width="3%"></td>
			<td width="6%" align="center" bgcolor="#f1f1f1"><b>선수</b></td>
			<td width="3%" align="center" bgcolor="#f1f1f1"><b>승패</b></td>
			<td align="center" bgcolor="#f1f1f1"><b>득점(자신의 득점만 입력)</b></td>
			<td width="1px"></td>
			<td align="center" bgcolor="#f1f1f1"><b>득점(자신의 득점만 입력)</b></td>
			<td width="3%" align="center" bgcolor="#f1f1f1"><b>승패</b></td>
			<td width="6%" align="center" bgcolor="#f1f1f1"><b>선수</b></td>
			<td width="3%"></td>
		</tr>
		<!-- 개인전 선수검색 시작 -->
		<?
			// 토너먼트 클래스 생성 //
			$Tournament = new Tournament;
			if($type == "real")
			{
				$Tournament->getTournaInfo($s_gam_uid, $game_code,$level);
			}
			else if($type == "test")
			{
				$Tournament->getTournaInfoTest($s_gam_uid, $game_code,$level);
			}

			// 토너먼트 표 작성
			if($level == "3") $max_totna = 1;
			else if($level == "1") $max_totna = 1;
			else $max_totna = $level/2;

			$left_num = 1;
			$right_num = (2*$max_totna);

			// 토너먼트 첫경기만 BYE가 존재한다.
			if($level !=  $max_level)
			{
				$glo_bye_num = array();
			}

            //$glo_bye_num = Array {[0] => [1] => 2 [2] => 4 [3] => 6 [4] => 8 [5] => 9 [6] => 13 [7] => 15 [8] => };
			
			$p_cnt = 0;
			for ( $i=1; $i<= $max_totna; $i++){
				unset($check_01);
				unset($check_02);
				unset($check_03);
				unset($check_04);
				unset($my_rank_tot);
				if($p_cnt % 2 == 0) $lbgcolor = "#C0C91D";
				else $lbgcolor = "#F47D1F";
				if($p_cnt % 2 == 0) $rbgcolor = "#F47D1F";
				else $rbgcolor = "#C0C91D";
				echo "
				<tr bgcolor='#ffffff'>
					<td align='right'><b>$left_num</b></td>
					<td align='center' bgcolor='$lbgcolor'>
				";
					if(in_array($left_num, $glo_bye_num))
					{
						echo "<font color='#0000ff'><b>BYE</b></font></td>";
						echo "<td></td>";
						echo "<td></td>";
					}
					else
					{
						$cla_info = $glo_al_player[$left_num];

						$clu_code = $cla_info->clu_code;
						echo "<input type='hidden' name='pla_id[]' value='$clu_code'>";
						echo "<input type='hidden' name='lane_no[$clu_code]' value='$left_num'>";
						if($cla_info->rank_tot) $my_rank_tot = "<font color='#0000ff' size='3'><b>[{$cla_info->rank_tot}위]</b></font><br>";
						if($cla_info->cnt == 1) $font_size = "4";
						else $font_size = "2";
						echo "$my_rank_tot<b>".$wp_club_code[$cla_info->clu_code]."</b></td>";
						if($cla_info->win == "W") $check_01 = " checked";
						if($cla_info->win == "F") $check_02 = " checked";
						echo "
							<td>
								<div><input type='radio' name='win_{$clu_code}' value='W' $check_01>승 </div>
								<div><input type='radio' name='win_{$clu_code}' value='F' $check_02>패 </div>
							</td>";
						// 경기 기록필드 출력
						if($spo_code == "VOLLEYBALL" || $spo_code == "BADMINTON" || $spo_code == "TABLETENNIS" || $spo_code == "BOCCIA")
						{
							echo "<td align='center'>
								1Set:<input type='text' name='s_01_{$clu_code}' size='4' maxlength='10' value='$cla_info->record_01'>
								2Set:<input type='text' name='s_02_{$clu_code}' size='4' maxlength='10' value='$cla_info->record_02'>
								3Set:<input type='text' name='s_03_{$clu_code}' size='4' maxlength='10' value='$cla_info->record_03'>
								4Set:<input type='text' name='s_04_{$clu_code}' size='4' maxlength='10' value='$cla_info->record_04'>
								5Set:<input type='text' name='s_05_{$clu_code}' size='4' maxlength='10' value='$cla_info->record_05'>
								</td>";

						}
						else
						{
							echo "<td align='center'><input type='text' name='s_01_{$clu_code}' size='5' maxlength='10' value='$cla_info->record_01'></td>";
						}

					}
				echo "<td width='1px' height='100%' bgcolor='#cacaca'></td>";
				//print_r($glo_bye_num);
					if(in_array($right_num, $glo_bye_num))
					{
						if($game_code == "BADUK_BD200-04" && $level == "4")
						{
							$cla_info = $glo_al_player[$right_num];
							$clu_code = $cla_info->clu_code;
							echo "<input type='hidden' name='pla_id[]' value='$clu_code'>";
							echo "<input type='hidden' name='lane_no[$clu_code]' value='$right_num'>";

							// 경기 기록필드 출력
							if($spo_code == "VOLLEYBALL" || $spo_code == "BADMINTON" || $spo_code == "TABLETENNIS" || $spo_code == "BOCCIA")
							{
								echo "<td align='center'>
									1Set:<input type='text' name='s_01_{$clu_code}' size='4' maxlength='10' value='$cla_info->record_01'>
									2Set:<input type='text' name='s_02_{$clu_code}' size='4' maxlength='10' value='$cla_info->record_02'>
									3Set:<input type='text' name='s_03_{$clu_code}' size='4' maxlength='10' value='$cla_info->record_03'>
									4Set:<input type='text' name='s_04_{$clu_code}' size='4' maxlength='10' value='$cla_info->record_04'>
									5Set:<input type='text' name='s_05_{$clu_code}' size='4' maxlength='10' value='$cla_info->record_05'>
									</td>";
							}
							else
							{
								echo "<td align='center'><input type='text' name='s_01_{$clu_code}' size='5' maxlength='10' value='$cla_info->record_01'></td>";
							}
							if($cla_info->win == "W") $check_03 = " checked";
							if($cla_info->win == "F") $check_04 = " checked";
							echo "
								<td align='right'>
									<div><input type='radio' name='win_{$clu_code}' value='W' $check_03>승 </div>
									<div><input type='radio' name='win_{$clu_code}' value='F' $check_04>패 </div>
								</td>";
							echo "<td bgcolor='$rbgcolor' align='center'>";
							if($cla_info->rank_tot) $my_rank_tot = "<font color='#0000ff' size='3'><b>[{$cla_info->rank_tot}위]</b></font><br>";
							if($cla_info->cnt == 1) $font_size = "4";
							else $font_size = "2";
							echo "$my_rank_tot<b>".$wp_club_code[$cla_info->clu_code]."</font></b></td>";
						}
						else
						{
							echo "<td></td>";
							echo "<td></td>";
							echo "<td bgcolor='$rbgcolor' align='center'><font color='#0000ff'><b>BYE</b></font></td>";
						}


					}
					else
					{
						$cla_info = $glo_al_player[$right_num];
						$clu_code = $cla_info->clu_code;
						echo "<input type='hidden' name='pla_id[]' value='$clu_code'>";
						echo "<input type='hidden' name='lane_no[$clu_code]' value='$right_num'>";

						// 경기 기록필드 출력
						if($spo_code == "VOLLEYBALL" || $spo_code == "BADMINTON" || $spo_code == "TABLETENNIS" || $spo_code == "BOCCIA")
						{
							echo "<td align='center'>
								1Set:<input type='text' name='s_01_{$clu_code}' size='4' maxlength='10' value='$cla_info->record_01'>
								2Set:<input type='text' name='s_02_{$clu_code}' size='4' maxlength='10' value='$cla_info->record_02'>
								3Set:<input type='text' name='s_03_{$clu_code}' size='4' maxlength='10' value='$cla_info->record_03'>
								4Set:<input type='text' name='s_04_{$clu_code}' size='4' maxlength='10' value='$cla_info->record_04'>
								5Set:<input type='text' name='s_05_{$clu_code}' size='4' maxlength='10' value='$cla_info->record_05'>
								</td>";
						}
						else
						{
							echo "<td align='center'><input type='text' name='s_01_{$clu_code}' size='5' maxlength='10' value='$cla_info->record_01'></td>";
						}
						if($cla_info->win == "W") $check_03 = " checked";
						if($cla_info->win == "F") $check_04 = " checked";
						echo "
							<td align='right'>
								<div><input type='radio' name='win_{$clu_code}' value='W' $check_03>승 </div>
								<div><input type='radio' name='win_{$clu_code}' value='F' $check_04>패 </div>
							</td>";
						echo "<td bgcolor='$rbgcolor' align='center'>";
						if($cla_info->rank_tot) $my_rank_tot = "<font color='#0000ff' size='3'><b>[{$cla_info->rank_tot}위]</b></font><br>";
						if($cla_info->cnt == 1) $font_size = "4";
						else $font_size = "2";
						echo "$my_rank_tot<b>".$wp_club_code[$cla_info->clu_code]."</font></b></td>";
					}

				echo "
					<td align='left'><b>$right_num</b> </td>
				</tr>
				";
				if($left_num % 2 ==0)
				{
					echo "<tr><td colspan='10'>&nbsp;</td></tr>";
					echo "<tr><td colspan='10' height='1px' bgcolor='#cacaca'></td></tr>";
					echo "<tr><td colspan='10'>&nbsp;</td></tr>";
				}
				if($left_num % 2 == 0) $p_cnt ++;
				$left_num++;
				$right_num--;
			}
		?>
		</table>
	</td>
</tr>
<tr>
	<td align="center" style="padding-top:10px">
		<input type="submit" name="input" value="경기기록등록(저장)" class="btnBox3" style="height:35px">
		&nbsp;&nbsp;&nbsp;
		<?
			if($level == "64"){ $n_level = "32";$n_level_t = $wp_game_level["32"];}
			if($level == "32") {$n_level = "16";$n_level_t = $wp_game_level["16"];}
			if($level == "16"){ $n_level = "8";$n_level_t = $wp_game_level["8"];}
			if($level == "8"){ $n_level = "4";$n_level_t = $wp_game_level["4"];}
			if($level == "4"){ $n_level = "1";$n_level_t = $wp_game_level["1"];}
		if($level >= "4")
		{
			echo "<input type='button' name='make_game' value='다음경기({$n_level_t}전생성)' class='btnBox' style='height:35px' onclick=\"location.href='next_match.php?$basic_get$add_get&mode=input&game_code=$game_code&level=$level&n_level=$n_level&sch_val=$sch_val&game_kind=$game_kind' \">";
		}

		if($level == "1")
		{
			echo "<input type='button' name='make_game' value='경기종료확인' class='btnBox' style='height:35px' onclick=\"location.href='input.php?$basic_get$add_get&mode=input&game_code=$game_code&level=$level&game_kind=$game_kind&done=done' \">";
		}
		?>

	</td>
</tr>
</table>
</form>
